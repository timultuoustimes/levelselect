// Citizen Sleeper - Complete questline, clocks, drives, and endings data
// Based on Neoseeker walkthrough and Fandom wiki

export const QUESTLINES = [
  {
    id: 'dragos',
    npc: 'Dragos the Salvager',
    role: 'Salvager',
    description: 'The first person you meet. Saved you from your crashed ship and gave you a home.',
    missable: false,
    drives: [
      { id: 'dragos-d1', name: 'Repay Dragos', description: 'Clear your debt by completing salvage work' },
      { id: 'dragos-d2', name: 'Study the Winter Light', description: 'Investigate the mysterious signal (branching path)' },
    ],
    clocks: [
      { id: 'dragos-c1', name: 'Back in Business', type: 'step', segments: 8, description: 'Complete salvage work to repay debt. Two Repeatable Actions: Hull Dissection and Manual Salvage.' },
      { id: 'dragos-c2', name: 'A Debt Called In', type: 'cycle', segments: 8, description: 'DANGER: Fills passively each cycle. If full before Back in Business, triggers debt path.' },
      { id: 'dragos-c3', name: 'Winter Light', type: 'step', segments: 8, description: 'Investigate the strange signal using the Forensic Trawl action. Earns Fellow Traveller achievement.' },
      { id: 'dragos-c4', name: 'Yard Clearance', type: 'step', segments: 8, description: 'Alternate path if you skip the Winter Light investigation. Fails Study the Winter Light drive.' },
    ],
    achievement: ['Paid Off', 'Fellow Traveller'],
  },
  {
    id: 'sabine',
    npc: 'Sabine the Slum Doctor',
    role: 'Slum Doctor',
    description: 'Treats your condition. Meeting her unlocks treatment options to stay alive.',
    missable: false,
    drives: [
      { id: 'sabine-d1', name: 'Survive', description: 'Seek Sabine\'s medical help for your deteriorating condition' },
      { id: 'sabine-d2', name: 'Get Sabine Out', description: 'Help Sabine escape the control of the Yatagan Corporation' },
      { id: 'sabine-d3', name: 'Work for Rabiah', description: 'Work covertly inside the Yatagan network for Sabine\'s contact' },
      { id: 'sabine-d4', name: 'Expose Yannick', description: 'Gather evidence on Yannick\'s corruption from inside' },
    ],
    clocks: [
      { id: 'sabine-c1', name: 'Local Knowledge', type: 'step', segments: 3, description: 'Explore the Bright Market to unlock Sabine and Emphis.' },
      { id: 'sabine-c2', name: 'Sourcing Stabilizer', type: 'cycle', segments: 3, description: 'Wait 3 cycles for Sabine to prepare your first Stabilizer. Completes Drive: Survive.' },
      { id: 'sabine-c3', name: 'Yatagan Upload', type: 'step', segments: 3, description: 'Upload data for Drive: Get Sabine Out.' },
      { id: 'sabine-c4', name: 'Painful Patience', type: 'cycle', segments: 4, description: 'Wait 4 cycles for Rabiah\'s meeting to materialize.' },
      { id: 'sabine-c5', name: "Rabiah's Office", type: 'cycle', segments: 2, description: 'Wait 2 cycles before Drive: Work for Rabiah can begin.' },
      { id: 'sabine-c6', name: 'Yatagan Insider', type: 'step', segments: 12, description: 'Repeatable actions for Drive: Work for Rabiah. Minimum 3 cycles to complete.' },
      { id: 'sabine-c7', name: "Yannick's Trust", type: 'step', segments: 12, description: 'Repeatable action for Drive: Expose Yannick. Perform the Critical Action in Yannick\'s Office.' },
      { id: 'sabine-c8', name: 'The Aftermath', type: 'cycle', segments: 4, description: 'Wait 4 cycles after exposing Yannick before speaking to Rabiah and Sabine.' },
    ],
    achievement: ['Planned Obsolescence', 'Remote Control'],
    note: 'Buy a Stabilizer from Sabine for 100 Cryo to earn Planned Obsolescence. Remote Control earned by the Critical Action in Yannick\'s Office.',
  },
  {
    id: 'emphis',
    npc: 'Emphis the Food Vendor',
    role: 'Food Vendor',
    description: 'Cooks fungal meals in exchange for your stories. Keeps your energy up.',
    missable: false,
    drives: [
      { id: 'emphis-d1', name: 'Get to Know Emphis', description: 'Share memories with Emphis in exchange for food' },
      { id: 'emphis-d2', name: 'Grow Mushrooms', description: 'Gather Girolle Caps and Matsutake for Emphis\'s recipes' },
    ],
    clocks: [
      { id: 'emphis-c1', name: 'Local Knowledge', type: 'step', segments: 3, description: 'Shared with Sabine questline. Explore the Bright Market.' },
      { id: 'emphis-c2', name: 'Fungus Fan', type: 'step', segments: 4, description: 'Order Fungus meals from Emphis (15 Cryo each, no dice needed — costs 60 Cryo total).' },
      { id: 'emphis-c3', name: 'Girolle Caps', type: 'cycle', segments: 3, description: 'Wait 3 cycles after delivering 3 Girolle Caps from the Greenway. Earns Spore Catcher achievement.' },
      { id: 'emphis-c4', name: 'Matsutake Prep', type: 'cycle', segments: 3, description: 'Wait 3 cycles after delivering 2 Matsutake Caps. Earns Story Eater achievement.' },
    ],
    achievement: ['Spore Catcher', 'Story Eater'],
  },
  {
    id: 'feng',
    npc: 'Feng the Engineer',
    role: 'Engineer',
    description: 'Tech wizard who wants your help hacking networks. Key questline for escaping Ethan.',
    missable: false,
    drives: [
      { id: 'feng-d1', name: 'Disable Your Tracker', description: 'Help Feng in exchange for him disabling your corporation tracker' },
      { id: 'feng-d2', name: 'Extract the Past', description: 'Use your abilities to gather Solheim Data for Feng' },
      { id: 'feng-d3', name: "Hack Hardin's Network", description: 'Infiltrate the Hardin Agent network using Ripperworms' },
      { id: 'feng-d4', name: 'Crack Conway', description: 'Final stage of Feng\'s plan at the Service Dock' },
    ],
    clocks: [
      { id: 'feng-c1', name: 'Havenage Watchlist', type: 'cycle', segments: 3, description: 'DANGER: Fills passively. Triggers Feng\'s involvement if full.' },
      { id: 'feng-c2', name: 'Solheim Data', type: 'step', segments: 3, description: 'Gather Solheim Data from 3 nodes (each requires specific dice values [1], [2], [4]).' },
      { id: 'feng-c3', name: 'Waiting for Feng', type: 'cycle', segments: 3, description: 'Wait for Feng\'s Ripperworm program to complete its work in the shipyard servers.' },
      { id: 'feng-c4', name: 'Lowender', type: 'step', segments: 8, description: 'Optional: Explore the Lowend club (not required to complete the questline).' },
      { id: 'feng-c5', name: "Feng's Targets", type: 'step', segments: 6, description: "Identify Hardin's agent locations via Min-Gi Express. Requires 4 Ripperworms before starting Crack Conway." },
      { id: 'feng-c6', name: 'Crack Conway', type: 'cycle', segments: 6, description: 'Final cycle clock at the Service Dock. Cannot be paused once started.' },
    ],
    achievement: 'Icebreaker',
    note: 'Completing this questline frees you from Ethan the Bounty Hunter permanently.',
  },
  {
    id: 'tala',
    npc: 'Tala the Distiller',
    role: 'Distiller / Bar Owner',
    description: 'Defends you from trouble and runs the local bar. Aspiring brewmaster building her distillery.',
    missable: false,
    drives: [
      { id: 'tala-d1', name: 'Help at the Bar', description: 'Work at Tala\'s bar to earn Cryo and build trust' },
      { id: 'tala-d2', name: 'Improve the Overlook', description: 'Help Tala build her distillery, gather Grove Spores, and see the bar transformed into The Bantayan' },
    ],
    clocks: [
      { id: 'tala-c1', name: 'Good Service', type: 'step', segments: 8, description: 'Repeatable work at the Overlook Bar to earn Cryo and progress the questline.' },
      { id: 'tala-c2', name: 'Overlook Distillery', type: 'step', segments: 12, description: 'Help build Tala\'s distillery via repeatable actions after Good Service.' },
      { id: 'tala-c3', name: 'Grove Spores', type: 'step', segments: 3, description: 'Collect and deliver 3 Grove Spores from the Greenway Mushroom Groves.' },
      { id: 'tala-c4', name: 'First Batch', type: 'cycle', segments: 6, description: 'Wait 6 cycles for Tala\'s first distilled batch. She locks herself away while it brews.' },
    ],
    achievement: 'Free Spirit',
  },
  {
    id: 'lem',
    npc: 'Lem (& Mina) the Shipyard Worker',
    role: 'Shipyard Worker',
    description: 'Lem works in the shipyard with his sister Mina. Their questline leads to one of the main endings.',
    missable: false,
    endings: [
      'A Long Journey to a Small Unknown Planet — Leave the Eye together with Lem and Mina',
      'Left Behind — Let Lem and Mina leave on the Sidereal; you stay',
      'The Three Body Problem — Destroy the Celis IDs; nobody leaves',
      'Solo Ticket — Never babysit Mina; leave the Eye alone',
    ],
    drives: [
      { id: 'lem-d1', name: 'Help Lem Work', description: 'Babysit Mina while Lem works at the shipyard (required for most endings)' },
      { id: 'lem-d2', name: 'Win a Sidereal Ticket', description: 'Enter the Sidereal lottery and complete the hull work' },
      { id: 'lem-d3', name: 'Escape on the Sidereal', description: 'Help Castor steal Celis data and choose your fate' },
    ],
    clocks: [
      { id: 'lem-c1', name: 'Yard Hand', type: 'step', segments: 4, description: 'Complete shipyard work to get Lem onto the Sidereal assembly crew.' },
      { id: 'lem-c2', name: 'Systems Fitting', type: 'step', segments: 8, description: 'Repeatable action to fill the Win a Sidereal Ticket drive. Complete alongside Structural Fitting.' },
      { id: 'lem-c3', name: 'Structural Fitting', type: 'step', segments: 8, description: 'Second repeatable action for the Win a Sidereal Ticket drive. Fills in parallel with Systems Fitting.' },
      { id: 'lem-c4', name: 'Moving the Horizon', type: 'cycle', segments: 6, description: 'The Sidereal Horizon prepares for takeoff. Fills passively over 6 cycles.' },
      { id: 'lem-c5', name: 'Sidereal Draw', type: 'cycle', segments: 3, description: 'The lottery drawing to determine who boards. (The draw always fails — find another way.)' },
      { id: 'lem-c6', name: "Lem's Out", type: 'cycle', segments: 3, description: "Lem's unit is locked after the drawing. Wait 3 cycles before you can speak to him again." },
      { id: 'lem-c7', name: 'Sidereal Departure', type: 'cycle', segments: 8, description: 'POINT OF NO RETURN: 8 cycles until the Sidereal leaves. Complete all other questlines before this fills.' },
    ],
    achievement: ['Good Robot', 'The Running Game', 'A Long Journey to a Small Unknown Planet', 'Left Behind', 'Solo Ticket', 'The Three Body Problem'],
    note: 'Solo Ticket requires NOT babysitting Mina — incompatible with A Long Journey and Left Behind. Save before Sidereal Departure to pursue multiple endings.',
  },
  {
    id: 'ethan',
    npc: 'Ethan the Bounty Hunter',
    role: 'Bounty Hunter',
    description: 'A hunter pursuing you on behalf of your former corporation. Can be dealt with via Feng\'s questline.',
    missable: false,
    drives: [
      { id: 'ethan-d1', name: 'Evade Ethan', description: 'Avoid detection and buy time while finding a solution' },
      { id: 'ethan-d2', name: 'Recover the Gun', description: 'Retrieve Ethan\'s stolen gun to resolve things peacefully' },
    ],
    clocks: [
      { id: 'ethan-c1', name: 'Midline Security', type: 'step', segments: 6, description: 'DANGER: Triggers if you steal freight. Each negative outcome fills it.' },
      { id: 'ethan-c2', name: 'Locate the Gun', type: 'step', segments: 4, description: "Track down who has Ethan's stolen weapon." },
    ],
    achievement: 'For a Few Chits More',
    note: 'Completing Feng\'s questline also resolves this permanently.',
  },
  {
    id: 'ankhita',
    npc: 'Ankhita the Stranded Mercenary',
    role: 'Stranded Mercenary',
    description: 'Musclebound merc repairing her ship. Building trust leads to a Shipmind crafting quest.',
    missable: false,
    drives: [
      { id: 'ankhita-d1', name: 'Fix the Ambergris', description: "Help repair Ankhita's ship" },
      { id: 'ankhita-d2', name: 'Build a Shipmind', description: 'Craft a Shipmind Core for Ankhita (or NeoVend)' },
      { id: 'ankhita-d3', name: 'Find Ashton', description: "Track down Ashton across the Founder's Gap" },
    ],
    clocks: [
      { id: 'ankhita-c1', name: 'Shipshape', type: 'step', segments: 8, description: 'Repair the Ambergris. Outcome determines which path unlocks.' },
      { id: 'ankhita-c2', name: 'Grounded (alternate)', type: 'step', segments: 6, description: 'Alternate completion path if more negative outcomes.' },
      { id: 'ankhita-c3', name: 'Trusted Trader', type: 'step', segments: 6, description: 'Build reputation at the Ort Exchange to access the Ort Fabricator.' },
      { id: 'ankhita-c4', name: 'Tracking Ashton', type: 'step', segments: 8, description: 'Search the Wild Margins for Ashton.' },
      { id: 'ankhita-c5', name: 'Ambergris Wait', type: 'cycle', segments: 2, description: 'Wait 2 cycles after confrontation with Ankhita and Ashton.' },
    ],
    achievement: ['Mindcraft', 'The Bad End'],
    note: "Crafting a Shipmind is shared with NeoVend's questline. Only one path can be completed per playthrough.",
  },
  {
    id: 'riko',
    npc: 'Riko the Botanist',
    role: 'Botanist',
    description: 'Studies plant life and the Hypha network. Her questline leads to one of the two NeoVend endings.',
    missable: false,
    drives: [
      { id: 'riko-d1', name: "Help Riko's Experiments", description: 'Assist with botanical research and grow plant specimens' },
      { id: 'riko-d2', name: 'Enter the Greenway', description: 'Follow the Hypha thread into the Greenway' },
    ],
    clocks: [
      { id: 'riko-c1', name: 'Hypha Member', type: 'step', segments: 6, description: 'Join the Hypha collective by completing tasks for Riko.' },
      { id: 'riko-c2', name: 'Clubhead Analysis', type: 'step', segments: 4, description: "Analyze the strange growth for Riko's research." },
      { id: 'riko-c3', name: "Gardener's Gift", type: 'cycle', segments: 8, description: "POINT OF NO RETURN: Plant the Gardener's Seed. Wait 8 cycles. Choose your NeoVend ending after." },
    ],
    achievement: ['Communist', 'Grow Your Own'],
    note: "The Gardener's Gift clock is a point of no return. Complete other questlines before planting.",
  },
  {
    id: 'neovend',
    npc: 'NeoVend the Vending Machine',
    role: 'Rogue AI / Vending Machine',
    description: 'A sentient program hiding in a vending machine, fleeing Hunter/Killer programs. Leads to two possible endings.',
    missable: false,
    endings: [
      'Grow Vast and Strange — Break the thread (cut free, join the Data Cloud)',
      'Warmth and Light — Follow the thread back to Riko',
    ],
    drives: [
      { id: 'neovend-d1', name: 'Free NeoVend', description: 'Acquire a Shipmind Core and bring it to NeoVend at the Sealed Dock' },
      { id: 'neovend-d2', name: 'Deal with Hunter', description: 'Collect Hunter Data from the nests and reveal NeoVend\'s plan' },
      { id: 'neovend-d3', name: 'Deal with Killer', description: 'Decide the fate of the Killer program' },
    ],
    clocks: [
      { id: 'neovend-c1', name: 'Trusted Trader', type: 'step', segments: 6, description: 'Shared with Ankhita questline. Build reputation at Ort Exchange.' },
      { id: 'neovend-c2', name: 'Hunter Data', type: 'step', segments: 3, description: 'Collect Hunter Data from 3 red Hunter Nests in the overlay. Reveals NeoVend\'s plan.' },
      { id: 'neovend-c3', name: 'Spoke Climber', type: 'step', segments: 6, description: 'Climb The Free Spoke to access The Hub and AE1 Mainframe. (Also required for Bliss.)' },
      { id: 'neovend-c4', name: 'Find the Nest', type: 'step', segments: 6, description: 'Locate the Core Nest inside The Warrens and slot the Imprinted Shipmind.' },
    ],
    achievement: ['Insert Mind', 'Grow Vast and Strange', 'Warmth and Light'],
    note: "Two endings available — save before Riko's Gardener's Gift clock to experience both.",
  },
  {
    id: 'bliss',
    npc: 'Bliss the Ship Mechanic',
    role: 'Ship Mechanic',
    description: 'Entrepreneurial mechanic running a competitive repair market. Requires 100 Cryo upfront to partner with her.',
    missable: false,
    endings: [
      'Starward Passage — Choose "I\'m going." Leave Erlin\'s Eye with Bliss.',
      'The Fixed Stars — Choose "I\'m staying." Remain at the Eye.',
    ],
    drives: [
      { id: 'bliss-d1', name: 'Partner with Bliss', description: 'Pay 100 Cryo to start a repair business with Bliss (earns Bay View achievement)' },
      { id: 'bliss-d2', name: 'Help Bliss Compete', description: "Complete Bliss's three ship repair contracts" },
      { id: 'bliss-d3', name: 'Refit the Ambergris', description: 'Complete the final major refit (point of no return)' },
    ],
    clocks: [
      { id: 'bliss-c1', name: "Sealing the Leak (Ember's Wake)", type: 'step', segments: 8, description: "First repair contract — fix Ember's Wake. Timed." },
      { id: 'bliss-c2', name: 'Saving the Crop (Sycamore Seed)', type: 'step', segments: 6, description: 'Second repair contract. Rewards 2 Girolle Caps. A cycle wait separates each job.' },
      { id: 'bliss-c3', name: 'Rigged and Ready (Starward Vector)', type: 'step', segments: 6, description: 'Third repair contract. Rewards 300 Cryo. Refitting Amber unlocks after this.' },
      { id: 'bliss-c4', name: 'Refitting Amber', type: 'step', segments: 12, description: 'POINT OF NO RETURN: Final refit of the Ambergris. Completing it triggers the ending choice (Leave or Stay). Do NOT start if pursuing NeoVend endings too.' },
      { id: 'bliss-c5', name: 'Killer is Dead / Catch the Killer', type: 'step', segments: 6, description: 'NeoVend path: After this clock, receive the Greenway Gate Key. Do NOT use it if pursuing Bliss endings.' },
    ],
    achievement: ['Bay View', 'Starward Passage', 'The Fixed Stars'],
    note: 'CAUTION: Multiple points of no return. After credits roll, select CONTINUE to load before the final conversation and pick the other ending.',
  },
  {
    id: 'eshe',
    npc: 'Eshe (& Peake)',
    role: 'Refugee / Spacer',
    description: "Eshe arrived at Erlin's Eye in her stolen XPR ship (Climbing Briar) with Peake. They need help supplying a refugee flotilla stuck in quarantine past The Cordon. (Episode: Flux DLC)",
    missable: false,
    drives: [
      { id: 'eshe-d1', name: 'Flotilla Aid', description: "Gather food, water, and scrap to fill the Climbing Briar's hold for the flotilla run" },
      { id: 'eshe-d2', name: 'Breaking Quarantine', description: 'Help Peake scope and execute a safe path through the Havenage cordon' },
    ],
    clocks: [
      { id: 'eshe-c1', name: "Eshe's Run", type: 'cycle', segments: 12, description: "COUNTDOWN: 12 cycles until Eshe makes her supply run. Better preparation = better outcome." },
      { id: 'eshe-c2', name: "Briar's Hold", type: 'step', segments: 6, description: 'Fill the ship\'s hold: food from Algae Stack, water from Reservoir S3, scrap components.' },
      { id: 'eshe-c3', name: "Peake's Plan", type: 'step', segments: 3, description: "Enact all 3 aspects of Peake's plan to create a blind spot in Havenage detection." },
      { id: 'eshe-c4', name: 'Havenage Suspicion', type: 'cycle', segments: 3, description: 'DANGER: If filled, triggers Cordon Sweep — 2 cycles where no progress can be made on Peake\'s Plan.' },
    ],
    achievement: null,
    note: 'Episode: Flux DLC. After Flux ends, 3 cycles must pass before Episode: Refuge begins. All supplies + full Peake\'s Plan = best outcome (Upgrade Point reward).',
  },
];

export const ALL_ENDINGS = [
  {
    id: 'end-1a',
    name: 'Grow Vast and Strange',
    source: 'NeoVend the Vending Machine',
    description: "Cut the thread when talking with Gardener (via Riko's questline). Break free and join the Data Cloud chorus.",
    achievement: 'Grow Vast and Strange',
    exclusive: false,
  },
  {
    id: 'end-1b',
    name: 'Warmth and Light',
    source: 'NeoVend the Vending Machine',
    description: "Don't cut the thread — follow it back to Riko. Credits roll but you continue playing.",
    achievement: 'Warmth and Light',
    exclusive: false,
  },
  {
    id: 'end-2a',
    name: 'A Long Journey to a Small Unknown Planet',
    source: 'Lem & Mina the Shipyard Workers',
    description: 'Leave the Eye together aboard the Sidereal Horizon with Lem and Mina.',
    achievement: 'A Long Journey to a Small Unknown Planet',
    exclusive: false,
  },
  {
    id: 'end-2b',
    name: 'Left Behind',
    source: 'Lem & Mina the Shipyard Workers',
    description: 'Let Lem and Mina leave on the Sidereal Horizon, but stay at the Eye yourself.',
    achievement: 'Left Behind',
    exclusive: false,
  },
  {
    id: 'end-2c',
    name: 'The Three Body Problem',
    source: 'Lem & Mina the Shipyard Workers',
    description: 'Destroy the Celis IDs. No one boards the Sidereal — all three watch it depart.',
    achievement: 'The Three Body Problem',
    exclusive: false,
  },
  {
    id: 'end-2d',
    name: 'Solo Ticket',
    source: 'Lem & Mina the Shipyard Workers',
    description: 'Never babysit Mina. Steal Celis data for Castor and leave the Eye alone.',
    achievement: 'Solo Ticket',
    exclusive: false,
    note: 'Incompatible with A Long Journey and Left Behind — requires NOT completing Drive: Help Lem Work.',
  },
  {
    id: 'end-3a',
    name: 'Starward Passage',
    source: 'Bliss the Ship Mechanic',
    description: 'Complete Refitting Amber and choose "I\'m going." Leave Erlin\'s Eye with Bliss and Ankhita.',
    achievement: 'Starward Passage',
    exclusive: false,
  },
  {
    id: 'end-3b',
    name: 'The Fixed Stars',
    source: 'Bliss the Ship Mechanic',
    description: 'Complete Refitting Amber and choose "I\'m staying." Remain at Erlin\'s Eye with Moritz.',
    achievement: 'The Fixed Stars',
    exclusive: false,
  },
  {
    id: 'end-4',
    name: 'The Bad End',
    source: 'Ankhita the Stranded Mercenary',
    description: "A specific outcome from Ankhita's questline if you accept payment after the final encounter.",
    achievement: 'The Bad End',
    exclusive: false,
  },
  {
    id: 'end-9',
    name: 'Citizen Sleeper',
    source: 'All Questlines',
    description: 'Decline to leave via any offered ending. Simply exist on the Eye with nothing left to do.',
    achievement: null,
    exclusive: false,
  },
];

export const CLASSES = [
  { id: 'machinist', name: 'Machinist', description: 'Skilled with machines and repair. Engine skill boosted.' },
  { id: 'operator', name: 'Operator', description: 'Information broker and hacker. Interface skill boosted.' },
  { id: 'scholar', name: 'Scholar', description: 'Researcher and analyst. Endure skill boosted.' },
];
